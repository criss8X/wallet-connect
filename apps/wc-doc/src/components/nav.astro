---
import { getUrlWithBase } from "@/lib/utils";

interface Props {
  title: string;
  items: {
    name: string;
    href: string;
  }[];
}

const { title, items: rawItems } = Astro.props;

const items = rawItems.map((rawItem) => ({
  ...rawItem,
  href: getUrlWithBase(rawItem.href),
}));
---

<article class="pt-4 flex flex-col gap-1">
  <h2 class="px-4 opacity-60 text-sm">{title}</h2>

  <nav class="flex flex-col gap-1">
    {
      items.map(({ name, href }) => (
        <a
          data-active={Astro.url.pathname === href}
          href={href}
          class="px-6 h-10 text-md flex items-center select-none hover:bg-neutral-900 data-[active=true]:bg-blue-900/50 data-[active=true]:pointer-events-none"
        >
          {name}
        </a>
      ))
    }
  </nav>
</article>
