---
import { cva, type VariantProps } from "class-variance-authority";
import cn from "@/lib/cn";

const imageDescVariants = cva("", {
  variants: {
    size: {
      default: "",
      sm: "max-w-xs",
      lg: "max-w-sm",
    },
  },
  defaultVariants: {
    size: "default",
  },
});

interface Props {
  src: string;
  description: string;
  size?: VariantProps<typeof imageDescVariants>["size"];
  className?: string;
  title?: string;
}

const { src, title, size, description, className } = Astro.props;
---

<div
  class={cn(
    "min-w-xs h-max pt-2 px-2 border border-neutral-500/30 bg-neutral-900/20",
    className,
  )}
>
  <img src={src} title={title} class={cn(imageDescVariants({ size }))} />

  {
    description ? (
      <span class="opacity-80 text-sm">{description}</span>
    ) : (
      <slot />
    )
  }
</div>
